import{S as B,i as C,s as L,e as p,t as M,k,c as w,a as b,h as E,d as c,m as _,b as d,f as z,g as $,J as m,L as A,E as g,N as R,v as K,w as x,x as I,y as V,q as D,o as T,B as q,K as W}from"../chunks/index-6e8b5e9e.js";import{T as j}from"../chunks/Top-d7ef86f7.js";function F({mustBeMetaMask:l=!1,silent:e=!1,timeout:o=3e3}={}){i();let n=!1;return new Promise(r=>{window.ethereum?s():(window.addEventListener("ethereum#initialized",s,{once:!0}),setTimeout(()=>{s()},o));function s(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",s);const{ethereum:a}=window;a&&(!l||a.isMetaMask)?r(a):(!e&&console.error("@metamask/detect-provider:",l&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),r(null))}});function i(){if(typeof l!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof o!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var S=F;function J(l){let e,o,n,i,r,s,a,t,u,f,y,N;return{c(){e=p("div"),o=p("div"),n=p("button"),i=M("Install Metamask"),s=k(),a=p("div"),t=p("button"),u=M("Connect Metamask"),this.h()},l(v){e=w(v,"DIV",{class:!0});var h=b(e);o=w(h,"DIV",{class:!0});var H=b(o);n=w(H,"BUTTON",{type:!0,class:!0,name:!0,style:!0});var O=b(n);i=E(O,"Install Metamask"),O.forEach(c),H.forEach(c),s=_(h),a=w(h,"DIV",{class:!0});var P=b(a);t=w(P,"BUTTON",{type:!0,class:!0,name:!0,style:!0});var U=b(t);u=E(U,"Connect Metamask"),U.forEach(c),P.forEach(c),h.forEach(c),this.h()},h(){d(n,"type","button"),d(n,"class","btn btn-primary"),d(n,"name","install"),z(n,"width","150px"),n.disabled=r=l[0]||null,d(o,"class","mt-2"),d(t,"type","button"),d(t,"class","btn btn-primary"),d(t,"name","connect"),z(t,"width","170px"),t.disabled=f=!l[0]||null,d(a,"class","mt-2"),d(e,"class","mx-3 mt-4 row")},m(v,h){$(v,e,h),m(e,o),m(o,n),m(n,i),m(e,s),m(e,a),m(a,t),m(t,u),y||(N=[A(n,"click",l[1]),A(t,"click",l[2])],y=!0)},p(v,[h]){h&1&&r!==(r=v[0]||null)&&(n.disabled=r),h&1&&f!==(f=!v[0]||null)&&(t.disabled=f)},i:g,o:g,d(v){v&&c(e),y=!1,R(N)}}}function X(l,e,o){let n=!1;K(async()=>{typeof window.ethereum!="undefined"&&window.ethereum.isMetaMask&&o(0,n=!0);const s=await S();console.log(s?"provider is found":"provider is not found")});const i=()=>{const s="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn/related";window.open(s)},r=()=>{(async()=>{var a;const s=await((a=window.ethereum)==null?void 0:a.request({method:"eth_requestAccounts"}));console.log(`account: ${s[0]}`)})()};return n&&window.ethereum.on("accountsChanged",s=>{console.log(s[0])}),[n,i,r]}class Y extends B{constructor(e){super(),C(this,e,X,J,L,{})}}function Z(l){let e,o,n,i,r,s;return r=new Y({}),{c(){e=p("div"),o=p("h3"),n=M("Metamask Wallet"),i=k(),x(r.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var t=b(e);o=w(t,"H3",{class:!0});var u=b(o);n=E(u,"Metamask Wallet"),u.forEach(c),i=_(t),I(r.$$.fragment,t),t.forEach(c),this.h()},h(){d(o,"class","text-bg-primary p-3"),d(e,"class","mb-5")},m(a,t){$(a,e,t),m(e,o),m(o,n),m(e,i),V(r,e,null),s=!0},p:g,i(a){s||(D(r.$$.fragment,a),s=!0)},o(a){T(r.$$.fragment,a),s=!1},d(a){a&&c(e),q(r)}}}function G(l){return K(()=>{typeof window.ethereum!="undefined"&&window.ethereum.isMetaMask?(console.log("MetaMask is installed!"),console.log(`networkVersion: ${window.ethereum.networkVersion}`),console.log(`selectedAddress: ${window.ethereum.selectedAddress}`)):alert("Please install metamask extension")}),[]}class Q extends B{constructor(e){super(),C(this,e,G,Z,L,{})}}function ee(l){let e,o,n,i,r,s,a;return i=new j({}),s=new Q({}),{c(){e=p("link"),o=k(),n=p("div"),x(i.$$.fragment),r=k(),x(s.$$.fragment),this.h()},l(t){const u=W('[data-svelte="svelte-1pako0c"]',document.head);e=w(u,"LINK",{href:!0,rel:!0,integrity:!0,crossorigin:!0}),u.forEach(c),o=_(t),n=w(t,"DIV",{});var f=b(n);I(i.$$.fragment,f),r=_(f),I(s.$$.fragment,f),f.forEach(c),this.h()},h(){d(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"),d(e,"rel","stylesheet"),d(e,"integrity","sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"),d(e,"crossorigin","anonymous")},m(t,u){m(document.head,e),$(t,o,u),$(t,n,u),V(i,n,null),m(n,r),V(s,n,null),a=!0},p:g,i(t){a||(D(i.$$.fragment,t),D(s.$$.fragment,t),a=!0)},o(t){T(i.$$.fragment,t),T(s.$$.fragment,t),a=!1},d(t){c(e),t&&c(o),t&&c(n),q(i),q(s)}}}class se extends B{constructor(e){super(),C(this,e,null,ee,L,{})}}export{se as default};
