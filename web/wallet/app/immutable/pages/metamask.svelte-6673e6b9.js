import{S as z,i as F,s as G,e as b,t as A,k as D,c as v,a as w,h as B,d as m,m as N,b as c,g as V,J as u,E as S,v as J,f as Q,L,O as le,P as te,Q as ie,N as ce,R as de,T as ue,w as R,x as H,y as j,q as O,o as U,B as K,n as he,p as me,K as fe}from"../chunks/index-c61ef420.js";import{T as pe}from"../chunks/Top-b3574064.js";import{w as oe}from"../chunks/index-466d315d.js";function be({mustBeMetaMask:o=!1,silent:e=!1,timeout:t=3e3}={}){i();let s=!1;return new Promise(r=>{window.ethereum?a():(window.addEventListener("ethereum#initialized",a,{once:!0}),setTimeout(()=>{a()},t));function a(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",a);const{ethereum:n}=window;n&&(!o||n.isMetaMask)?r(n):(!e&&console.error("@metamask/detect-provider:",o&&n?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),r(null))}});function i(){if(typeof o!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof t!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var ve=be;const W={1:"Ethereum Main Network (Mainnet)",3:"Ropsten Test Network",4:"Rinkeby Test Network",5:"Goerli Test Network",42:"Kovan Test Network",56:"Binance Smart Chain Mainnet",137:"Polygon Mainnet",11155111:"Sepolia Test Network"},ae={56:{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed1.defibit.io"],blockExplorerUrls:["https://bscscan.com/"]},137:{chainId:"0x89",chainName:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.network","https://rpc-mainnet.matic.quiknode.pro"],blockExplorerUrls:["https://polygonscan.com/"]},11155111:{chainId:"0xaa36a7",chainName:"Sepolia Test Network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://rpc.sepolia.dev"],blockExplorerUrls:["https://sepolia.etherscan.io/"]}},X=oe(void 0),P=oe(0),_e=o=>parseInt(o.toString(),16);class we{constructor(e){this.provider=e}async getAccount(){return(await this.provider.request({method:"eth_requestAccounts"}))[0]}async chainID(){return await this.provider.request({method:"eth_chainId"})}async networkVersion(){return await this.provider.request({method:"net_version"})}async getAddress(){return await this.provider.request({method:"eth_accounts"})}isConnected(){return this.provider.isConnected}async addEthereumChain(e){if(!ae[e]){await this.switchEthereumChain(e);return}await this.provider.request({method:"wallet_addEthereumChain",params:[ae[e]]})}async switchEthereumChain(e){const t="0x"+e.toString(16);await this.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}async watchAsset(e){this.provider.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"0xb60e8dd61c5d32be8058bb8eb970870f07233155",symbol:"FOO",decimals:18,image:"https://foo.io/token-image.svg"}}}).then(t=>{if(t)console.log(`${e} was successfully added to wallet!`);else throw new Error("Something went wrong.")}).catch(console.error)}readyEvent(){this.provider.on("accountsChanged",e=>{console.log(`event[accountsChanged]: ${e[0]}`)}),this.provider.on("chainChanged",e=>{console.log(`event[chainChanged]: ${e}`);const t=_e(e);console.log(`event[chainChanged] decimal: ${e}`),P.set(t)})}}const ke=async()=>{const o=await ve();return o!==window.ethereum&&console.error("Do you have multiple wallets installed?"),o},ge=()=>{const o="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn/related";window.open(o)};function ye(o){let e,t,s,i,r;return{c(){e=b("button"),t=A("Install Metamask"),this.h()},l(a){e=v(a,"BUTTON",{type:!0,class:!0,name:!0,style:!0});var n=w(e);t=B(n,"Install Metamask"),n.forEach(m),this.h()},h(){c(e,"type","button"),c(e,"class","btn btn-primary"),c(e,"name","install"),Q(e,"width","150px"),e.disabled=s=o[0]||null},m(a,n){V(a,e,n),u(e,t),i||(r=L(e,"click",o[5]),i=!0)},p(a,n){n&1&&s!==(s=a[0]||null)&&(e.disabled=s)},d(a){a&&m(e),i=!1,r()}}}function Ee(o){let e,t,s,i,r;return{c(){e=b("button"),t=A("Connect Metamask"),this.h()},l(a){e=v(a,"BUTTON",{type:!0,class:!0,name:!0,style:!0});var n=w(e);t=B(n,"Connect Metamask"),n.forEach(m),this.h()},h(){c(e,"type","button"),c(e,"class","btn btn-primary"),c(e,"name","connect"),Q(e,"width","170px"),e.disabled=s=o[1]||null},m(a,n){V(a,e,n),u(e,t),i||(r=L(e,"click",o[6]),i=!0)},p(a,n){n&2&&s!==(s=a[1]||null)&&(e.disabled=s)},d(a){a&&m(e),i=!1,r()}}}function Ie(o){let e,t,s,i,r,a,n,l,d,h,k,y,E,I,T,M;function p(g,C){return g[0]?Ee:ye}let f=p(o),_=f(o);return{c(){e=b("div"),t=b("div"),s=b("label"),i=A("networkVersion:"),r=D(),a=b("div"),n=b("input"),d=D(),h=b("label"),k=A("currentAddress:"),y=D(),E=b("div"),I=b("input"),T=D(),M=b("div"),_.c(),this.h()},l(g){e=v(g,"DIV",{class:!0});var C=w(e);t=v(C,"DIV",{class:!0});var $=w(t);s=v($,"LABEL",{for:!0,class:!0});var x=w(s);i=B(x,"networkVersion:"),x.forEach(m),r=N($),a=v($,"DIV",{class:!0});var q=w(a);n=v(q,"INPUT",{type:!0,class:!0,id:!0}),q.forEach(m),d=N($),h=v($,"LABEL",{for:!0,class:!0});var Y=w(h);k=B(Y,"currentAddress:"),Y.forEach(m),y=N($),E=v($,"DIV",{class:!0});var Z=w(E);I=v(Z,"INPUT",{type:!0,class:!0,id:!0}),Z.forEach(m),T=N($),M=v($,"DIV",{class:!0});var ee=w(M);_.l(ee),ee.forEach(m),$.forEach(m),C.forEach(m),this.h()},h(){c(s,"for","inputNetwork"),c(s,"class","col-sm-3 col-form-label"),c(n,"type","text"),c(n,"class","form-control"),c(n,"id","inputNetwork"),n.value=l=o[2]+" : "+o[3],n.readOnly=!0,c(a,"class","col-sm-9"),c(h,"for","inputAddress"),c(h,"class","col-sm-3 col-form-label"),c(I,"type","text"),c(I,"class","form-control"),c(I,"id","inputAddress"),I.value=o[4],I.readOnly=!0,c(E,"class","col-sm-9"),c(M,"class","col-sm-9"),c(t,"class","row"),c(e,"class","mx-3 mt-4 row")},m(g,C){V(g,e,C),u(e,t),u(t,s),u(s,i),u(t,r),u(t,a),u(a,n),u(t,d),u(t,h),u(h,k),u(t,y),u(t,E),u(E,I),u(t,T),u(t,M),_.m(M,null)},p(g,[C]){C&12&&l!==(l=g[2]+" : "+g[3])&&n.value!==l&&(n.value=l),C&16&&I.value!==g[4]&&(I.value=g[4]),f===(f=p(g))&&_?_.p(g,C):(_.d(1),_=f(g),_&&(_.c(),_.m(M,null)))},i:S,o:S,d(g){g&&m(e),_.d()}}}function $e(o,e,t){let s,i=!1,r=!1,a=0,n="",l="";J(async()=>{P.subscribe(E=>{t(2,a=E),W[a]&&t(3,n=W[a])});const y=await ke();y?(console.log("provider is found"),t(0,i=!0),s=new we(y),s.readyEvent(),X.set(s),s.isConnected()&&await d()):console.log("provider is not found")});const d=async()=>{const y=await s.getAddress();y&&t(4,l=y[0]),t(2,a=await s.chainID().then(E=>parseInt(E,16))),P.set(a)};return[i,r,a,n,l,()=>{ge()},async()=>{const y=await s.getAccount();console.log(`account: ${y}`),t(1,r=!0),await d()}]}class Ce extends z{constructor(e){super(),F(this,e,$e,Ie,G,{})}}function se(o,e,t){const s=o.slice();return s[6]=e[t][0],s[7]=e[t][1],s[9]=t,s}function ne(o,e){let t,s=e[7]+"",i,r;return{key:o,first:null,c(){t=b("option"),i=A(s),this.h()},l(a){t=v(a,"OPTION",{});var n=w(t);i=B(n,s),n.forEach(m),this.h()},h(){t.__value=r=e[6],t.value=t.__value,this.first=t},m(a,n){V(a,t,n),u(t,i)},p(a,n){e=a},d(a){a&&m(t)}}}function Me(o){let e,t,s,i,r,a,n=[],l=new Map,d,h,k,y,E,I,T=Object.entries(W);const M=p=>p[6];for(let p=0;p<T.length;p+=1){let f=se(o,T,p),_=M(f);l.set(_,n[p]=ne(_,f))}return{c(){e=b("div"),t=b("label"),s=A("ChainID:"),i=D(),r=b("div"),a=b("select");for(let p=0;p<n.length;p+=1)n[p].c();d=D(),h=b("div"),k=b("button"),y=A("Add Network"),this.h()},l(p){e=v(p,"DIV",{class:!0});var f=w(e);t=v(f,"LABEL",{for:!0,class:!0});var _=w(t);s=B(_,"ChainID:"),_.forEach(m),i=N(f),r=v(f,"DIV",{class:!0});var g=w(r);a=v(g,"SELECT",{name:!0,id:!0,class:!0,"aria-label":!0});var C=w(a);for(let q=0;q<n.length;q+=1)n[q].l(C);C.forEach(m),g.forEach(m),d=N(f),h=v(f,"DIV",{class:!0});var $=w(h);k=v($,"BUTTON",{type:!0,class:!0,name:!0,style:!0});var x=w(k);y=B(x,"Add Network"),x.forEach(m),$.forEach(m),f.forEach(m),this.h()},h(){c(t,"for","chainid"),c(t,"class","col-sm-3 col-form-label"),c(a,"name","chainid"),c(a,"id","chainid"),c(a,"class","form-select"),c(a,"aria-label","ChainID"),o[0]===void 0&&le(()=>o[4].call(a)),c(r,"class","col-sm-9"),c(k,"type","button"),c(k,"class","btn btn-primary"),c(k,"name","addNetwork"),Q(k,"width","150px"),c(h,"class","col-sm-9"),c(e,"class","mx-3 mt-4 row")},m(p,f){V(p,e,f),u(e,t),u(t,s),u(e,i),u(e,r),u(r,a);for(let _=0;_<n.length;_+=1)n[_].m(a,null);te(a,o[0]),u(e,d),u(e,h),u(h,k),u(k,y),E||(I=[L(a,"change",o[4]),L(a,"change",o[1]),L(k,"click",o[2])],E=!0)},p(p,[f]){f&0&&(T=Object.entries(W),n=ie(n,f,M,1,p,T,l,a,de,ne,null,se)),f&1&&te(a,p[0])},i:S,o:S,d(p){p&&m(e);for(let f=0;f<n.length;f+=1)n[f].d();E=!1,ce(I)}}}function De(o,e,t){let s,i,r=0;J(async()=>{X.subscribe(d=>{!d||(i=d)}),P.subscribe(d=>{t(3,r=d)})});const a=d=>{console.log(`chainID changed: ${d.target.value}`),t(3,r=parseInt(d.target.value,10))},n=async()=>{if(!r){alert("chainID is invalid");return}console.log(`chainID: ${r}`),i.addEthereumChain(r)};function l(){s=ue(this),t(0,s),t(3,r)}return o.$$.update=()=>{o.$$.dirty&8&&t(0,s=r.toString())},[s,a,n,r,l]}class Ne extends z{constructor(e){super(),F(this,e,De,Me,G,{})}}function re(o){let e,t;return e=new Ne({}),{c(){R(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,i){j(e,s,i),t=!0},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){U(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Te(o){let e,t,s,i,r,a,n;r=new Ce({});let l=o[0]&&o[1]&&re();return{c(){e=b("div"),t=b("h3"),s=A("Metamask Wallet"),i=D(),R(r.$$.fragment),a=D(),l&&l.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var h=w(e);t=v(h,"H3",{class:!0});var k=w(t);s=B(k,"Metamask Wallet"),k.forEach(m),i=N(h),H(r.$$.fragment,h),a=N(h),l&&l.l(h),h.forEach(m),this.h()},h(){c(t,"class","text-bg-primary p-3"),c(e,"class","mb-5")},m(d,h){V(d,e,h),u(e,t),u(t,s),u(e,i),j(r,e,null),u(e,a),l&&l.m(e,null),n=!0},p(d,[h]){d[0]&&d[1]?l?h&3&&O(l,1):(l=re(),l.c(),O(l,1),l.m(e,null)):l&&(he(),U(l,1,1,()=>{l=null}),me())},i(d){n||(O(r.$$.fragment,d),O(l),n=!0)},o(d){U(r.$$.fragment,d),U(l),n=!1},d(d){d&&m(e),K(r),l&&l.d()}}}function Ae(o,e,t){let s,i=0;return J(async()=>{typeof window.ethereum!="undefined"&&window.ethereum.isMetaMask?console.log("MetaMask is installed!"):alert("Please install metamask extension"),X.subscribe(r=>{!r||t(0,s=r)}),P.subscribe(r=>{t(1,i=r)})}),[s,i]}class Be extends z{constructor(e){super(),F(this,e,Ae,Te,G,{})}}function Ve(o){let e,t,s,i,r,a,n;return i=new pe({}),a=new Be({}),{c(){e=b("link"),t=D(),s=b("div"),R(i.$$.fragment),r=D(),R(a.$$.fragment),this.h()},l(l){const d=fe('[data-svelte="svelte-1pako0c"]',document.head);e=v(d,"LINK",{href:!0,rel:!0,integrity:!0,crossorigin:!0}),d.forEach(m),t=N(l),s=v(l,"DIV",{});var h=w(s);H(i.$$.fragment,h),r=N(h),H(a.$$.fragment,h),h.forEach(m),this.h()},h(){c(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"),c(e,"rel","stylesheet"),c(e,"integrity","sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"),c(e,"crossorigin","anonymous")},m(l,d){u(document.head,e),V(l,t,d),V(l,s,d),j(i,s,null),u(s,r),j(a,s,null),n=!0},p:S,i(l){n||(O(i.$$.fragment,l),O(a.$$.fragment,l),n=!0)},o(l){U(i.$$.fragment,l),U(a.$$.fragment,l),n=!1},d(l){m(e),l&&m(t),l&&m(s),K(i),K(a)}}}class xe extends z{constructor(e){super(),F(this,e,null,Ve,G,{})}}export{xe as default};
